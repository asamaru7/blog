<!doctype html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
					<title>옥토프레스 rake deploy에서 오류가 날 경우 - 이 세상에 하나는 남기고 가자</title>
	<meta name="author" content="유영재">
	<meta name="keywords" content="android,blog,css,db,flash,git,html,ios,java,jekyll,js,laravel,linux,octopress,osx,php,programming,ssl,swift,thinking,tip,vagrant">
	
	<meta name="description" content="옥토프레스를 설치하고 테스트 포스팅을 한 후 본격적으로 세팅을 하려고 시작했다. 도메인도 세팅하고 구글 어날리틱스, disqus 등도 연결을 하고자 _config.xml 파일을 수정하고 몇가지 글도 포스팅하려고 저장 후 generate 했다. 이제 배포를 하려고 rake deploy를 하니 아래와 같은 오류가 나타났다. To https://github.com/asamaru7/blog.git ! [rejected] gh-pages -&gt; gh-pages (non-fast-forward) error: failed to push some ">
	<meta name="referrer" content="always">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="shortcut icon" type="image/x-icon" href="https://blog.asamaru.net/favicon.ico"/>
	<link rel="canonical" href="https://blog.asamaru.net/2015/08/20/octopress-rake-deploy-error/"/>
			<link rel="amphtml" href="https://blog.asamaru.net/amp/2015/08/20/octopress-rake-deploy-error/">
	
	<link href="//www.googletagmanager.com" rel="dns-prefetch"/>
	
			<link href="//pagead2.googlesyndication.com" rel="dns-prefetch"/>
		<link href="//googleads.g.doubleclick.net" rel="dns-prefetch"/>
		<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<script>
			(adsbygoogle = window.adsbygoogle || []).push({
				google_ad_client: 'ca-pub-8163803188491150',
				enable_page_level_ads: true
			});
		</script>
		<!--[if lt IE 9]>
		<script src="//cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script>
	<![endif]-->

	<script src="/res/js/min/aefcec30210fe6b3c4d72e270b10753c.js" async="true" type="text/javascript"></script>
<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">

						<meta property="fb:pages" content="347561328975949" />
					<meta property="fb:app_id" content="1481515121924670" />
			
	
	<meta property="og:type" content="article">
	<meta property="og:site_name" content="이 세상에 하나는 남기고 가자">
	<meta property="og:title" content="옥토프레스 rake deploy에서 오류가 날 경우">
	<meta property="og:description" content="옥토프레스를 설치하고 테스트 포스팅을 한 후 본격적으로 세팅을 하려고 시작했다. 도메인도 세팅하고 구글 어날리틱스, disqus 등도 연결을 하고자 _config.xml 파일을 수정하고 몇가지 글도 포스팅하려고 저장 후 generate 했다. 이제 배포를 하려고 rake deploy를 하니 아래와 같은 오류가 나타났다. To https://github.com/asamaru7/blog.git ! [rejected] gh-pages -&gt; gh-pages (non-fast-forward) error: failed to push some ">
	<meta property="og:url" content="https://blog.asamaru.net/2015/08/20/octopress-rake-deploy-error/" />
	<meta property="og:image" content="https://blog.asamaru.net/res/img/icon/icon.png">
	

	
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@asamaru7">
	<meta name="twitter:title" content="옥토프레스 rake deploy에서 오류가 날 경우">
	<meta name="twitter:description" content="옥토프레스를 설치하고 테스트 포스팅을 한 후 본격적으로 세팅을 하려고 시작했다. 도메인도 세팅하고 구글 어날리틱스, disqus 등도 연결을 하고자 _config.xml 파일을 수정하고 몇가지 글도 포스팅하려고 저장 후 generate 했다. 이제 배포를 하려고 rake deploy를 하니 아래와 같은 오류가 나타났다. To https://github.com/asamaru7/blog.git ! [rejected] gh-pages -&gt; gh-pages (non-fast-forward) error: failed to push some ">
	<meta property="twitter:image" content="https://blog.asamaru.net/res/img/icon/icon.png">
	

										<link rel="apple-touch-icon" sizes="180x180" href="/res/img/icon/180.png">
												<link rel="apple-touch-icon" sizes="76x76" href="/res/img/icon/76.png">
												<link rel="apple-touch-icon" sizes="120x120" href="/res/img/icon/120.png">
												<link rel="apple-touch-icon" sizes="152x152" href="/res/img/icon/152.png">
						
	<link rel="alternate" type="application/rss+xml" title="이 세상에 하나는 남기고 가자" href="https://blog.asamaru.net/atom.xml"/>

			<link href="/res/css/min/4fc41bbc6fc320eb57338f345710b19f.css" type="text/css" rel="stylesheet" />

	 <script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "옥토프레스 rake deploy에서 오류가 날 경우",
    "author": {
        "@type": "Person",
        "name": "유영재"
    },
    "datePublished": "2015-8-20",
    "dateModified": "2015-8-20",
    "articleSection": "octopress",
    "url": "https://blog.asamaru.net/2015/08/20/octopress-rake-deploy-error/",
    "image": {
        "@type": "ImageObject",
        "url": "https://blog.asamaru.net/res/img/icon/icon.696.png",
        "width": 696,
        "height": 696
    },
    "publisher": {
        "@type": "Organization",
        "name": "유영재",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.asamaru.net/res/img/icon/icon.60.png",
            "width": 60,
            "height": 60
        }
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.asamaru.net/2015/08/20/octopress-rake-deploy-error/"
    }
}</script> 
		
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-65749108-2"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'UA-65749108-2');
		</script>
	
	</head>
<body>
<header>
	<div class="dProfile">
		<a href="https://blog.asamaru.net"><img src="/res/img/icon/icon.png" width="50" height="50" alt="profile"></a>
		<h1><a href="https://blog.asamaru.net">이 세상에 하나는 남기고 가자</a></h1>
					<p>세상에 필요한 소스코드 한줄 남기고 가자</p>
				<button type="button" id="cBtnSlide"></button>
	</div>
</header>
<section class="dMainBody">
<div class="dWrapContent">
	<section id="cMainPanel" class="clearfix">
			
	<article id="cArticle" class="dArticle hentry">
		<div class="dTitle">
			<h2 class="entry-title">옥토프레스 rake deploy에서 오류가 날 경우</h2>
												<a href="https://blog.asamaru.net/category/octopress/" rel="tag">octopress</a>
													<span></span>
										<time class="published " datetime="2015-08-20 22:56:20">2015.08.20. 22:56</time>
			<time class="updated hide" datetime="2015-08-20 22:56:20">2015.08.20. 22:56</time>
			<span class="vcard author hide"><span class="fn">유영재</span></span>
		</div>
		<div class="markdown-body entry-content"><p>옥토프레스를 설치하고 테스트 포스팅을 한 후 본격적으로 세팅을 하려고 시작했다.
도메인도 세팅하고 구글 어날리틱스, disqus 등도 연결을 하고자 _config.xml 파일을 수정하고 몇가지 글도 포스팅하려고 저장 후 generate 했다.</p>
<p>이제 배포를 하려고 rake deploy를 하니 아래와 같은 오류가 나타났다.</p>
<pre class="hljs bash">To https://github.com/asamaru7/blog.git
 ! [rejected]        gh-pages -&gt; gh-pages (non-fast-forward)
error: failed to push some refs to <span class="hljs-string">'https://github.com/asamaru7/blog.git'</span>
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Integrate the remote changes (e.g.
hint: <span class="hljs-string">'git pull ...'</span>) before pushing again.
hint: See the <span class="hljs-string">'Note about fast-forwards'</span> <span class="hljs-keyword">in</span> <span class="hljs-string">'git push --help'</span> <span class="hljs-keyword">for</span> details.</pre>
<p>구글에서 검색해서 여러가지 방법들을 따라 시도해도 진행이 되지 않다가 발견한 stackoverflow에서 강제 업데이트하는 방법을 안내하고 있었다.</p>
<pre class="hljs bash">vi Rakefile</pre>
<p>Rakefile을 열어 deploy_branch로 검색하다 보면 아래와 같은 부분을 볼 수 있다.</p>
<pre class="hljs ruby">desc <span class="hljs-string">"deploy public directory to github pages"</span>
multitask <span class="hljs-symbol">:push</span> <span class="hljs-keyword">do</span>
  puts <span class="hljs-string">"## Deploying branch to Github Pages "</span>
  puts <span class="hljs-string">"## Pulling any updates from Github Pages "</span>
  cd <span class="hljs-string">"<span class="hljs-subst">#{deploy_dir}</span>"</span> <span class="hljs-keyword">do</span>
    Bundler.with_clean_env { system <span class="hljs-string">"git pull"</span> }
  <span class="hljs-keyword">end</span>
  (Dir[<span class="hljs-string">"<span class="hljs-subst">#{deploy_dir}</span>/*"</span>]).each { <span class="hljs-params">|f|</span> rm_rf(f) }
  Rake::Task[<span class="hljs-symbol">:copydot</span>].invoke(public_dir, deploy_dir)
  puts <span class="hljs-string">"\n## Copying <span class="hljs-subst">#{public_dir}</span> to <span class="hljs-subst">#{deploy_dir}</span>"</span>
  cp_r <span class="hljs-string">"<span class="hljs-subst">#{public_dir}</span>/."</span>, deploy_dir
  cd <span class="hljs-string">"<span class="hljs-subst">#{deploy_dir}</span>"</span> <span class="hljs-keyword">do</span>
    system <span class="hljs-string">"git add -A"</span>
    message = <span class="hljs-string">"Site updated at <span class="hljs-subst">#{Time.now.utc}</span>"</span>
    puts <span class="hljs-string">"\n## Committing: <span class="hljs-subst">#{message}</span>"</span>
    system <span class="hljs-string">"git commit -m \"<span class="hljs-subst">#{message}</span>\""</span>
    puts <span class="hljs-string">"\n## Pushing generated <span class="hljs-subst">#{deploy_dir}</span> website"</span>
    Bundler.with_clean_env { system <span class="hljs-string">"git push origin <span class="hljs-subst">#{deploy_branch}</span>"</span> }
    puts <span class="hljs-string">"\n## Github Pages deploy complete"</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span></pre>
<p>여기서 고칠 부분은 <code>Bundler.with_clean_env { system "git push origin #{deploy_branch}" }</code> 이 부분이다.
<code>#{deploy_branch}"</code> 앞에 +를 붙여준다.</p>
<pre class="hljs ruby">Bundler.with_clean_env { system <span class="hljs-string">"git push origin <span class="hljs-subst">#{deploy_branch}</span>"</span> }</pre>
<p>이제 저장후 나와서 다시 deploy...</p>
<pre class="hljs bash"><span class="hljs-comment">## Pushing generated _deploy website</span>
Counting objects: 36, <span class="hljs-keyword">done</span>.
Delta compression using up to 4 threads.
Compressing objects: 100% (27/27), <span class="hljs-keyword">done</span>.
Writing objects: 100% (36/36), 12.90 KiB | 0 bytes/s, <span class="hljs-keyword">done</span>.
Total 36 (delta 14), reused 0 (delta 0)
To https://github.com/asamaru7/blog.git
 + 9295247...d6c0b14 gh-pages -&gt; gh-pages (forced update)</pre>
<p>이번엔 gh-pages (forced update) 안내를 보여주며 push 성공.</p>
</div>
		
		
		<div class="share-sns twitter facebook googleplus band line kakaostory kakaotalk" data-kakao-api="624ef6707c0abb3894fed329f77b21a3" data-facebook-app-id="1481515121924670"></div>
	</article>



			<div id="disqus_thread"></div>
	<script type="text/javascript">
		var disqus_shortname = 'asamaru7'; // required: replace example with your forum shortname
		// var disqus_developer = 1; // Comment out when the site is live
		var disqus_identifier = "/2015/08/20/octopress-rake-deploy-error/";

		/* * * DON'T EDIT BELOW THIS LINE * * */
		(function () {
			var dsq = document.createElement('script');
			dsq.type = 'text/javascript';
			dsq.async = true;
			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</section>
</div>
<nav id="cSide" class="slideout-menu">
	<div class="dSideBox">
		
								
			
																<dl class="dTags">
						<dt>카테고리</dt>
													<dd>
								<a href="https://blog.asamaru.net/category/android/">
									android<span>(57)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/blog/">
									blog<span>(3)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/css/">
									css<span>(5)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/db/">
									db<span>(6)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/flash/">
									flash<span>(1)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/git/">
									git<span>(8)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/html/">
									html<span>(3)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/ios/">
									ios<span>(23)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/java/">
									java<span>(5)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/jekyll/">
									jekyll<span>(2)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/js/">
									js<span>(15)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/laravel/">
									laravel<span>(2)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/linux/">
									linux<span>(30)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/octopress/">
									octopress<span>(8)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/osx/">
									osx<span>(11)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/php/">
									php<span>(54)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/programming/">
									programming<span>(1)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/ssl/">
									ssl<span>(2)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/swift/">
									swift<span>(8)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/thinking/">
									thinking<span>(5)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/tip/">
									tip<span>(17)</span>
								</a>
							</dd>
													<dd>
								<a href="https://blog.asamaru.net/category/vagrant/">
									vagrant<span>(7)</span>
								</a>
							</dd>
											</dl>
							
			
														
			
																<dl class="dArchives">
						<dt>글 보관함</dt>
													<dd class="dYear"><a href="https://blog.asamaru.net/2018/">2018 <span>(3)</span></a></dd>
															<dd>
									<dl>
										
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2018/05/">05 <span>(1)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2018/02/">02 <span>(2)</span></a>
											</dd>
																			</dl>
								</dd>
																				<dd class="dYear"><a href="https://blog.asamaru.net/2017/">2017 <span>(40)</span></a></dd>
															<dd>
									<dl>
										
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/08/">08 <span>(1)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/07/">07 <span>(1)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/06/">06 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/05/">05 <span>(4)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/04/">04 <span>(6)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/03/">03 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/02/">02 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/01/">01 <span>(22)</span></a>
											</dd>
																			</dl>
								</dd>
																				<dd class="dYear"><a href="https://blog.asamaru.net/2016/">2016 <span>(69)</span></a></dd>
															<dd>
									<dl>
										
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/12/">12 <span>(9)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/11/">11 <span>(11)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/10/">10 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/09/">09 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/08/">08 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/07/">07 <span>(5)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/05/">05 <span>(1)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/04/">04 <span>(9)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/03/">03 <span>(13)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/02/">02 <span>(7)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/01/">01 <span>(8)</span></a>
											</dd>
																			</dl>
								</dd>
																				<dd class="dYear"><a href="https://blog.asamaru.net/2015/">2015 <span>(118)</span></a></dd>
															<dd>
									<dl>
										
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/12/">12 <span>(16)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/11/">11 <span>(16)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/10/">10 <span>(41)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/09/">09 <span>(37)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/08/">08 <span>(8)</span></a>
											</dd>
																			</dl>
								</dd>
																				<dd class="dYear"><a href="https://blog.asamaru.net/2012/">2012 <span>(7)</span></a></dd>
															<dd>
									<dl>
										
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2012/10/">10 <span>(1)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2012/09/">09 <span>(6)</span></a>
											</dd>
																			</dl>
								</dd>
																		</dl>
									
				
		
		<form action="https://www.google.com/search" method="get" target="_blank" class="dFormSearch">
			<fieldset>
				<input type="hidden" name="sitesearch" value="https://blog.asamaru.net">
				<legend>검색하기 폼</legend>
				<label class="dIcon">검색하기</label>
				<input type="text" name="q" value="" placeholder="Search"/>
			</fieldset>
		</form>

		
					<ul class="dLinks">
									<li><a href="https://blog.asamaru.net/archives/" class="dInverse">전체글 보기</a></li>
					<li class="dPipe"></li>
								<li><a href="https://blog.asamaru.net/atom.xml" class="dInverse" target="_blank">RSS</a></li>
			</ul>
			</div>
</nav>
</section>
<footer>
	hosted by <a href="https://github.com/" target="_blank"><em>Github</em></a> / posted by <a href="mailto:asamaru@asamaru.net"><em>유영재</em></a>
	&nbsp;&nbsp;&nbsp;<a href="/policy/privacy/" target="_blank">개인정보처리방침</a>
</footer>



<script async src="https://cdn.ampproject.org/v0.js"></script>
<script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>

</body>
</html>