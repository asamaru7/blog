<!doctype html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
					<title>Android : Spans, a Powerful Concept - 이 세상에 하나는 남기고 가자</title>
	<meta name="author" content="유영재">
	<meta name="keywords" content="android,blog,css,db,flash,git,html,ios,java,jekyll,js,laravel,linux,octopress,osx,php,programming,swift,thinking,tip,vagrant">
	
	<meta name="description" content="안드로이드의 Spannable에 관련된 좋은 글이 있어 번역해 본다. 사실 부족한 영어 실력으로 번역이라기 보다 내용을 옮겨보는 정도라고 생각하면 될 듯하다(의역이 많다). Spans, a Powerful Concept. Jan 31st, 2014 6:09 pm Github Sample : flavienlaurent/spans 최근에, 나는 NewStand 앱과 ActionBar icon의 전환 효과에 대해 블로그에 남겼다. Cyril Mottier는 ActionBar의 title에 Spans을 사용하여 fade in/out하는 우">
	<meta name="referrer" content="always">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="shortcut icon" type="image/x-icon" href="https://blog.asamaru.net/favicon.ico"/>
	<link rel="canonical" href="https://blog.asamaru.net/2015/11/02/android-spans-a-powerful-concept/"/>
			<link rel="amphtml" href="https://blog.asamaru.net/amp/2015/11/02/android-spans-a-powerful-concept/">
		<!--[if lt IE 9]>
		<script src="//cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script>
	<![endif]-->

	
			<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<script>
			(adsbygoogle = window.adsbygoogle || []).push({
				google_ad_client: 'ca-pub-8163803188491150',
				enable_page_level_ads: true
			});
		</script>
	
	
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">

						<link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
			
	
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="이 세상에 하나는 남기고 가자">
	<meta property="og:title" content="Android : Spans, a Powerful Concept">
	<meta property="og:description" content="안드로이드의 Spannable에 관련된 좋은 글이 있어 번역해 본다. 사실 부족한 영어 실력으로 번역이라기 보다 내용을 옮겨보는 정도라고 생각하면 될 듯하다(의역이 많다). Spans, a Powerful Concept. Jan 31st, 2014 6:09 pm Github Sample : flavienlaurent/spans 최근에, 나는 NewStand 앱과 ActionBar icon의 전환 효과에 대해 블로그에 남겼다. Cyril Mottier는 ActionBar의 title에 Spans을 사용하여 fade in/out하는 우">
	<meta property="og:image" content="/res/img/post/2015-11-02-android-spans-a-powerful-concept-1.png">
	

	
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@asamaru7">
	<meta name="twitter:title" content="Android : Spans, a Powerful Concept">
	<meta name="twitter:description" content="안드로이드의 Spannable에 관련된 좋은 글이 있어 번역해 본다. 사실 부족한 영어 실력으로 번역이라기 보다 내용을 옮겨보는 정도라고 생각하면 될 듯하다(의역이 많다). Spans, a Powerful Concept. Jan 31st, 2014 6:09 pm Github Sample : flavienlaurent/spans 최근에, 나는 NewStand 앱과 ActionBar icon의 전환 효과에 대해 블로그에 남겼다. Cyril Mottier는 ActionBar의 title에 Spans을 사용하여 fade in/out하는 우">
	<meta property="twitter:image" content="/res/img/post/2015-11-02-android-spans-a-powerful-concept-1.png">
	

										<link rel="apple-touch-icon" sizes="180x180" href="/res/img/icon/180.png">
												<link rel="apple-touch-icon" sizes="76x76" href="/res/img/icon/76.png">
												<link rel="apple-touch-icon" sizes="120x120" href="/res/img/icon/120.png">
												<link rel="apple-touch-icon" sizes="152x152" href="/res/img/icon/152.png">
						
	<link rel="alternate" type="application/rss+xml" title="이 세상에 하나는 남기고 가자" href="https://blog.asamaru.net/atom.xml"/>

			<link href="/res/css/min/x70dfc09c743e05727d281203df088588790f692f.css" type="text/css" rel="stylesheet" />

	 <script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Android : Spans, a Powerful Concept",
    "author": {
        "@type": "Person",
        "name": "유영재"
    },
    "datePublished": "2015-11-2",
    "dateModified": "2015-11-2",
    "articleSection": "android",
    "url": "https://blog.asamaru.net/2015/11/02/android-spans-a-powerful-concept/",
    "image": {
        "@type": "ImageObject",
        "url": "https://blog.asamaru.net/res/img/post/2015-11-02-android-spans-a-powerful-concept-1.png",
        "width": 1130,
        "height": 264
    },
    "publisher": {
        "@type": "Organization",
        "name": "유영재",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.asamaru.net/res/img/icon/icon.60.png",
            "width": 60,
            "height": 60
        }
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.asamaru.net/2015/11/02/android-spans-a-powerful-concept/"
    }
}</script> 
			<script type="text/javascript">
			(function (i, s, o, g, r, a, m) {
				i['GoogleAnalyticsObject'] = r;
				i[r] = i[r] || function () {
						(i[r].q = i[r].q || []).push(arguments)
					}, i[r].l = 1 * new Date();
				a = s.createElement(o),
					m = s.getElementsByTagName(o)[0];
				a.async = 1;
				a.src = g;
				m.parentNode.insertBefore(a, m)
			})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

			ga('create', 'UA-65749108-2', 'auto');
			ga('send', 'pageview');
		</script>
	</head>
<body>
<header>
	<div class="dProfile">
		<a href="https://blog.asamaru.net"><img src="/res/img/icon/icon.png" width="50" height="50" alt="profile"></a>
		<h1><a href="https://blog.asamaru.net">이 세상에 하나는 남기고 가자</a></h1>
					<p>세상에 필요한 소스코드 한줄 남기고 가자</p>
				<button type="button" id="cBtnSlide"></button>
	</div>
</header>
<section class="dMainBody">
<div class="dWrapContent">
	<section id="cMainPanel" class="clearfix">
			
	<article id="cArticle" class="dArticle hentry">
		<div class="dTitle">
			<h2 class="entry-title">Android : Spans, a Powerful Concept</h2>
												<a href="https://blog.asamaru.net/category/android/" rel="tag">android</a>
													<span></span>
										<time class="published " datetime="2015-11-02 20:12:10">2015.11.02. 20:12</time>
			<time class="updated hide" datetime="2015-11-02 20:12:10">2015.11.02. 20:12</time>
			<span class="vcard author hide"><span class="fn">유영재</span></span>
		</div>
		<div class="markdown-body entry-content"><p>안드로이드의 <a href="http://developer.android.com/intl/ru/reference/android/text/Spannable.html">Spannable</a>에 관련된 좋은 글이 있어 번역해 본다.
사실 부족한 영어 실력으로 번역이라기 보다 내용을 옮겨보는 정도라고 생각하면 될 듯하다(의역이 많다).</p>
<blockquote>
<p><a href="http://flavienlaurent.com/blog/2014/01/31/spans/">Spans, a Powerful Concept.</a><br />
Jan 31st, 2014 6:09 pm<br />
<a href="https://github.com/flavienlaurent/spans">Github Sample : flavienlaurent/spans</a></p>
</blockquote>
<p>최근에, 나는 NewStand 앱과 ActionBar icon의 전환 효과에 대해 블로그에 남겼다. Cyril Mottier는 ActionBar의 title에 Spans을 사용하여 fade in/out하는 우아한 방법을 제안했다.</p>
<p>또한, 난 항상 사용 가능한 모든 종류의 Span(ImageSpan, BackgroundColorSpan 등)을 시도하고 싶었다. 그것들은 매우 유용하고 사용이 간단하지만 그것들에 대한 문서나 자세한 정보가 없었다.</p>
<p>그래서 이 문서에는 프레임워크의 Spans으로 무엇을 할 수 있는지 탐색하고, Spans으로 어떠한 새로운 것을 할 수 있는지 보여주고자 한다. <a href="https://github.com/flavienlaurent/spans/raw/master/sample.apk">sample application</a>를 다운받아 설치할 수 있다. 여기에서 <a href="https://github.com/flavienlaurent/spans">source</a>를 확인 할 수 있다.</p>
<h2>In the framework</h2>
<h3>HIERARCHY</h3>
<p>Main rules:</p>
<ul>
<li>Span이 텍스트 문자 레벨에 영향을 미칠 경우, <a href="http://developer.android.com/reference/android/text/style/CharacterStyle.html">CharacterStyle</a>를 상속</li>
<li>Span이 단락 레벨에 영향을 미칠 경우, <a href="http://developer.android.com/reference/android/text/style/ParagraphStyle.html">ParagraphStyle</a>를 상속</li>
<li>Span이 텍스트 문자 레벨의 외형에 영향을 미칠 경우,
<a href="http://developer.android.com/reference/android/text/style/UpdateAppearance.html">UpdateAppearance</a>를 상속</li>
<li>Span이 단락 레벨의 외형에 영향을 미칠 경우, <a href="http://developer.android.com/reference/android/text/style/UpdateLayout.html">UpdateLayout</a>를 상속</li>
</ul>
<p>그것은 우리를 위해 다음과 같은 클래스 다이어그램을 제공합니다 :</p>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-1.png" alt="cdcharacterstyle" width="1130" height="264" /></p>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-2.png" alt="cdparagraphstyle" width="783" height="275" /></p>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-3.png" alt="cdupdateappearance" width="996" height="275" /></p>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-4.png" alt="cdupdatelayout" width="261" height="501" /></p>
<p>그러나 이것은 조금 복잡하기 때문에 나는 class visualizer (like <a href="http://www.class-visualizer.net/">this</a>)를 사용하길 권한다.</p>
<h2>How it works?</h2>
<h3>LAYOUT</h3>
<p>당신이 text를 TextView에 설정하고자 할때, <a href="http://developer.android.com/reference/android/text/Layout.html">Layout</a> base class를 사용하여 텍스트 렌더링을 관리한다.</p>
<p>Layout Class는 <code>mSpannedText</code>라는 boolean 값을 포함하고 있다: text가 <a href="http://developer.android.com/reference/android/text/Spanned.html">Spanned</a>(<a href="http://developer.android.com/reference/android/text/Spanned.html">Spanned</a>을 구현한 <a href="http://developer.android.com/reference/android/text/SpannableString.html">SpannableString</a>)의 인스턴스라면 true가 된다.
이 Class는 오직 ParagraphStyle Spans에만 동작한다.</p>
<p><a href="http://developer.android.com/reference/android/text/Layout.html#draw%28android.graphics.Canvas,%20android.graphics.Path,%20android.graphics.Paint,%20int%29">draw</a> method는 2개의 다른 method들을 호출한다:</p>
<ul>
<li>drawBackground</li>
</ul>
<p>텍스트의 각 행에 대해, 현재 행에  <a href="http://developer.android.com/reference/android/text/style/LineBackgroundSpan.html">LineBackgroundSpan</a>가 있는 경우, <a href="http://developer.android.com/reference/android/text/style/LineBackgroundSpan.html#drawBackground%28android.graphics.Canvas,%20android.graphics.Paint,%20int,%20int,%20int,%20int,%20int,%20java.lang.CharSequence,%20int,%20int,%20int%29">LineBackgroundSpan#drawBackground</a>가 호출된다.</p>
<ul>
<li>drawText</li>
</ul>
<p>텍스트의 각 행에 대해, <a href="http://developer.android.com/reference/android/text/style/LeadingMarginSpan.html">LeadingMarginSpan</a>과 <a href="http://developer.android.com/reference/android/text/style/LeadingMarginSpan.LeadingMarginSpan2.html">LeadingMarginSpan2</a>를 계산하고 필요하다면 <a href="http://developer.android.com/reference/android/text/style/LeadingMarginSpan.html#drawLeadingMargin%28android.graphics.Canvas,%20android.graphics.Paint,%20int,%20int,%20int,%20int,%20int,%20java.lang.CharSequence,%20int,%20int,%20boolean,%20android.text.Layout%29">LeadingMarginSpan#drawLeadingMargin</a>를 호출한다. 이것은 또한 <a href="http://developer.android.com/reference/android/text/style/AlignmentSpan.html">AlignmentSpan</a>를 텍스트 맞춤을 결정 하는 데 사용 된다. 마지막으로, 현재 행이 스팬인 경우, 레이아웃은 TextLine#draw(텍스트 라인 개체가 각 행에 대해 생성된다)을 호출 한다.</p>
<h3>TEXTLINE</h3>
<p>문서에서는 <a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/text/TextLine.java">android.text.TextLine</a> 다음과 같이 설명한다: 시각적 순서의 측정과 렌더링을 위한 스타일 텍스트 행을 나타낸다.</p>
<p>TextLine 클래스는 3세트의 Spans을 포함한다:</p>
<ul>
<li>MetricAffectingSpan set</li>
<li>CharacterStyle set</li>
<li>ReplacementSpan set</li>
</ul>
<p>흥미로운 메소드는 TextLine#handleRun이다. 그것은 모든 스팬이 텍스트를 렌더링하는데 사용된다. 스팬의 유형을 기준으로 TextLine은 아래의 함수를 호출한다:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/text/style/CharacterStyle.html#updateDrawState%28android.text.TextPaint%29">CharacterStyle#updateDrawState</a> to change the TextPaint configuration for MetricAffectingSpan and CharacterStyle Spans.</li>
<li>TextLine#handleReplacement for ReplacementSpan. It calls <a href="http://developer.android.com/reference/android/text/style/ReplacementSpan.html#getSize%28android.graphics.Paint,%20java.lang.CharSequence,%20int,%20int,%20android.graphics.Paint.FontMetricsInt%29">Replacement#getSize</a> to get the replacement width, update the font metrics if it’s needed and finally call <a href="http://developer.android.com/reference/android/text/style/ReplacementSpan.html#draw%28android.graphics.Canvas,%20java.lang.CharSequence,%20int,%20int,%20float,%20int,%20int,%20int,%20android.graphics.Paint%29">Replacement#draw</a>.</li>
</ul>
<h3>FONTMETRICS</h3>
<p>폰트 메트릭에 대해 더 알고 싶다면 다음의 그림을 보자:</p>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-5.png" alt="fontmetrics" width="680" height="239" /></p>
<h2>Playground</h2>
<h3>BULLETSPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/BulletSpan.html">android.text.style.BulletSpan</a></p>
<p>The BulletSpan affects paragraph-level text formatting. It allows you to put a bullet on paragraph start.</p>
<p>BulletSpan은 텍스트 단락 수준 서식에 영향을 준다. 그것은 단락 시작에 bullet을 넣을 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public BulletSpan (int gapWidth, int color)
-gapWidth: gap in px between bullet and text
-color: bullet color (optionnal, default is transparent)
*/</span>

<span class="hljs-comment">//create a black BulletSpan with a gap of 15px</span>
span = <span class="hljs-keyword">new</span> BulletSpan(<span class="hljs-number">15</span>, Color.BLACK);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-6.png" alt="BulletSpan" width="570" height="334" /></p>
<h3>QUOTESPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/QuoteSpan.html">android.text.style.QuoteSpan</a></p>
<p>QuoteSpan은 텍스트 단락 수준 서식에 영향을 준다. 그것은 당신이 단락에 인용 수직선을 넣을 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public QuoteSpan (int color)
-color: quote vertical line color (optionnal, default is Color.BLUE)
*/</span>

<span class="hljs-comment">//create a red quote</span>
span = <span class="hljs-keyword">new</span> QuoteSpan(Color.RED);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-7.png" alt="QuoteSpan" width="571" height="333" /></p>
<h3>ALIGNMENTSPAN.STANDARD</h3>
<p><a href="http://developer.android.com/reference/android/text/style/AlignmentSpan.Standard.html">android.text.style.AlignmentSpan.Standard</a></p>
<p>AlignmentSpan.Standard은 텍스트 단락 수준 서식에 영향을 준다. 그것은 문단을 정렬(일반, 중앙, 반대) 할 수 있도록 해준다.
그것은 정렬 수 있습니다 (정상, 센터, 반대)는 단락.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public Standard(Layout.Alignment align)
-align: alignment to set
*/</span>

<span class="hljs-comment">//align center a paragraph</span>
span = <span class="hljs-keyword">new</span> AlignmentSpan.Standard(Layout.Alignment.ALIGN_CENTER);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-8.png" alt="AlignmentSpan" width="574" height="337" /></p>
<h3>UNDERLINESPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/UnderlineSpan.html">android.text.style.UnderlineSpan</a></p>
<p>UnderlineSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 <a href="http://developer.android.com/reference/android/graphics/Paint.html#setUnderlineText%28boolean%29">Paint#setUnderlineText(true)</a>을 통해 문자에 밑줄을 넣을 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">//underline a character</span>
span = <span class="hljs-keyword">new</span> UnderlineSpan();</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-9.png" alt="UnderlineSpan" width="573" height="334" /></p>
<h3>STRIKETHROUGHSPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/StrikethroughSpan.html">android.text.style.StrikethroughSpan</a></p>
<p>StrikethroughSpan 은 텍스트 글자 수준 서식에 영향을 준다. 그것은  <a href="http://developer.android.com/reference/android/graphics/Paint.html#setStrikeThruText%28boolean%29">Paint#setStrikeThruText(true)</a>을 통해 문자에 취소선을 넣을 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">//strikethrough a character</span>
span = <span class="hljs-keyword">new</span> StrikethroughSpan();</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-10.png" alt="StrikethroughSpan" width="572" height="336" /></p>
<h3>SUBSCRIPTSPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/SubscriptSpan.html">android.text.style.SubscriptSpan</a></p>
<p>SubscriptSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은  <a href="http://developer.android.com/reference/android/text/TextPaint.html#baselineShift">TextPaint#baselineShift</a>를 감소시켜 아래 첨자 문자를 넣을 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">//subscript a character</span>
span = <span class="hljs-keyword">new</span> SubscriptSpan();</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-11.png" alt="SubscriptSpan" width="572" height="346" /></p>
<h3>SUPERSCRIPTSPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/SuperscriptSpan.html">android.text.style.SuperscriptSpan</a></p>
<p>SuperscriptSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은  <a href="http://developer.android.com/reference/android/text/TextPaint.html#baselineShift">TextPaint#baselineShift</a>를 증가시켜 위 첨자 문자를 넣을 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">//superscript a character</span>
span = <span class="hljs-keyword">new</span> SuperscriptSpan();</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-12.png" alt="SuperscriptSpan" width="575" height="346" /></p>
<h3>BACKGROUNDCOLORSPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/BackgroundColorSpan.html">android.text.style.BackgroundColorSpan</a></p>
<p>BackgroundColorSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 문자의 배경색을 넣을 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public BackgroundColorSpan (int color)
-color: background color
*/</span>

<span class="hljs-comment">//set a green background</span>
span = <span class="hljs-keyword">new</span> BackgroundColorSpan(Color.GREEN);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-13.png" alt="BackgroundColorSpan" width="572" height="337" /></p>
<h3>FOREGROUNDCOLORSPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/ForegroundColorSpan.html">android.text.style.ForegroundColorSpan</a></p>
<p>ForegroundColorSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 문자의 글자색을 넣을 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public ForegroundColorSpan (int color)
-color: foreground color
*/</span>

<span class="hljs-comment">//set a red foreground</span>
span = <span class="hljs-keyword">new</span> ForegroundColorSpan(Color.RED);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-14.png" alt="ForegroundColorSpan" width="565" height="328" /></p>
<h3>IMAGESPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/ImageSpan.html">android.text.style.ImageSpan</a></p>
<p>ImageSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 이미지를 글자처럼 넣을 수 있도록 해준다. 그것은 문서화를 잘 할 수 있도록 해주는 몇 안되는 스팬 중 하나다.</p>
<pre class="hljs java"><span class="hljs-comment">//replace a character by pic1_small image</span>
span = <span class="hljs-keyword">new</span> ImageSpan(<span class="hljs-keyword">this</span>, R.drawable.pic1_small);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-15.png" alt="ImageSpan" width="566" height="471" /></p>
<h3>STYLESPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/StyleSpan.html">android.text.style.StyleSpan</a></p>
<p>StyleSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 글자에 스타일(bold, italic, normal)을 넣을 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public StyleSpan (int style)
-style: int describing the style (android.graphics.Typeface)
*/</span>

<span class="hljs-comment">//set a bold+italic style</span>
span = <span class="hljs-keyword">new</span> StyleSpan(Typeface.BOLD | Typeface.ITALIC);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-16.png" alt="StyleSpan" width="574" height="336" /></p>
<h3>TYPEFACESPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/TypefaceSpan.html">android.text.style.TypefaceSpan</a></p>
<p>TypefaceSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것의 글자의 폰트 패밀리(monospace, serif etc)를 지정할 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public TypefaceSpan (String family)
-family: a font family
*/</span>

<span class="hljs-comment">//set the serif family</span>
span = <span class="hljs-keyword">new</span> TypefaceSpan(<span class="hljs-string">"serif"</span>);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-17.png" alt="TypefaceSpan" width="573" height="337" /></p>
<h3>TEXTAPPEARANCESPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/TextAppearanceSpan.html">android.text.style.TextAppearanceSpan</a></p>
<p>TextAppearanceSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 글자의 appearance를 지정할 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public  TextAppearanceSpan(Context context, int appearance, int colorList)
-context: a valid context
-appearance: text appearance resource (ex: android.R.style.TextAppearance_Small)
-colorList: a text color resource (ex: android.R.styleable.Theme_textColorPrimary)

public TextAppearanceSpan(String family, int style, int size, ColorStateList color, ColorStateList linkColor)
-family: a font family
-style: int describing the style (android.graphics.Typeface)
-size: text size
-color: a text color
-linkColor: a link text color
*/</span>

<span class="hljs-comment">//set the serif family</span>
span = <span class="hljs-keyword">new</span> TextAppearanceSpan(<span class="hljs-keyword">this</span><span class="hljs-comment">/*a context*/</span>, R.style.SpecialTextAppearance);</pre>
<p><strong>styles.xml</strong></p>
<pre class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"SpecialTextAppearance"</span> <span class="hljs-attribute">parent</span>=<span class="hljs-value">"@android:style/TextAppearance"</span>&gt;</span><span class="css">
    &lt;<span class="hljs-tag">item</span> <span class="hljs-tag">name</span>="<span class="hljs-tag">android</span><span class="hljs-pseudo">:textColor"</span>&gt;<span class="hljs-at_rule">@<span class="hljs-keyword">color/color1&lt;/item&gt;</span>
    &lt;item name=<span class="hljs-string">"android:textColorHighlight"</span>&gt;@color/color2&lt;/item&gt;
    &lt;item name=<span class="hljs-string">"android:textColorHint"</span>&gt;@color/color3&lt;/item&gt;
    &lt;item name=<span class="hljs-string">"android:textColorLink"</span>&gt;@color/color4&lt;/item&gt;
    &lt;item name=<span class="hljs-string">"android:textSize"</span>&gt;<span class="hljs-number">28s</span>p&lt;/item&gt;
    &lt;item name=<span class="hljs-string">"android:textStyle"</span>&gt;italic&lt;/item&gt;
</span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span></pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-18.png" alt="TextAppearanceSpan" width="567" height="381" /></p>
<h3>ABSOLUTESIZESPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/AbsoluteSizeSpan.html">android.text.style.AbsoluteSizeSpan</a></p>
<p>AbsoluteSizeSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 글자의 절대 크기를 지정할 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public AbsoluteSizeSpan(int size, boolean dip)
-size: a size
-dip: false, size is in px; true, size is in dip (optionnal, default false)
*/</span>

<span class="hljs-comment">//set text size to 24dp</span>
span = <span class="hljs-keyword">new</span> AbsoluteSizeSpan(<span class="hljs-number">24</span>, <span class="hljs-keyword">true</span>);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-19.png" alt="AbsoluteSizeSpan" width="575" height="381" /></p>
<h3>RELATIVESIZESPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/RelativeSizeSpan.html">android.text.style.RelativeSizeSpan</a></p>
<p>RelativeSizeSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 글자의 상대 크기를 지정할 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public RelativeSizeSpan(float proportion)
-proportion: a proportion of the actual text size
*/</span>

<span class="hljs-comment">//set text size 2 times bigger</span>
span = <span class="hljs-keyword">new</span> RelativeSizeSpan(<span class="hljs-number">2.0f</span>);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-20.png" alt="RelativeSizeSpan" width="575" height="425" /></p>
<h2>SCALEXSPAN</h2>
<p><a href="http://developer.android.com/reference/android/text/style/ScaleXSpan.html">android.text.style.ScaleXSpan</a></p>
<p>ScaleXSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 글자의 x 축 방향에 설정된 배율을 지정할 수 있도록 해준다.</p>
<pre class="hljs java"><span class="hljs-comment">/*
public ScaleXSpan(float proportion)
-proportion: a proportion of actual text scale x
*/</span>

<span class="hljs-comment">//scale x 3 times bigger</span>
span = <span class="hljs-keyword">new</span> ScaleXSpan(<span class="hljs-number">3.0f</span>);</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-21.png" alt="ScaleXSpan" width="566" height="357" /></p>
<h3>MASKFILTERSPAN</h3>
<p><a href="http://developer.android.com/reference/android/text/style/MaskFilterSpan.html">android.text.style.MaskFilterSpan</a></p>
<p>MaskFilterSpan은 텍스트 글자 수준 서식에 영향을 준다. 그것은 글자에  <a href="http://developer.android.com/reference/android/graphics/MaskFilter.html">android.graphics.MaskFilter</a>를 설정할 수 있도록 해준다.</p>
<p><strong>주의: BlurMaskFilter 는 hardware acceleration을 지원하지 않는다.</strong></p>
<pre class="hljs java"><span class="hljs-comment">/*
public MaskFilterSpan(MaskFilter filter)
-filter: a filter to apply
*/</span>

<span class="hljs-comment">//Blur a character</span>
span = <span class="hljs-keyword">new</span> MaskFilterSpan(<span class="hljs-keyword">new</span> BlurMaskFilter(density*<span class="hljs-number">2</span>, BlurMaskFilter.Blur.NORMAL));
<span class="hljs-comment">//Emboss a character</span>
span = <span class="hljs-keyword">new</span> MaskFilterSpan(<span class="hljs-keyword">new</span> EmbossMaskFilter(<span class="hljs-keyword">new</span> <span class="hljs-keyword">float</span>[] { <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span> }, <span class="hljs-number">0.4f</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3.5f</span>));</pre>
<p><strong>BlurMaskFilter</strong></p>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-22.png" alt="MaskFilterSpan" width="566" height="327" /></p>
<p><strong>EmbossMaskFilter와 함께 blue ForegroundColorSpan과 bold StyleSpan</strong></p>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-23.png" alt="MaskFilterSpan" width="565" height="328" /></p>
<h2>고급 스팬(Pushing Spans to the next level)</h2>
<h3>글자색(FOREGROUND COLOR) 애니메이션</h3>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-24.gif" alt="AnimateSpan" width="518" height="302" /></p>
<p>ForegroundColorSpan은 읽기 전용이다. 그것은 인스턴스화된 후에는 글자색을 변경할 수 없다는 뜻이다. 따라서 처음으로 할 일은 MutableForegroundColorSpan을 작성하는 것이다.</p>
<p><strong>MutableForegroundColorSpan.java</strong></p>
<pre class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MutableForegroundColorSpan</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ForegroundColorSpan</span> </span>{

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mAlpha = <span class="hljs-number">255</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mForegroundColor;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MutableForegroundColorSpan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> alpha, <span class="hljs-keyword">int</span> color)</span> </span>{
        <span class="hljs-keyword">super</span>(color);
        mAlpha = alpha;
        mForegroundColor = color;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MutableForegroundColorSpan</span><span class="hljs-params">(Parcel src)</span> </span>{
        <span class="hljs-keyword">super</span>(src);
        mForegroundColor = src.readInt();
        mAlpha = src.readInt();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeToParcel</span><span class="hljs-params">(Parcel dest, <span class="hljs-keyword">int</span> flags)</span> </span>{
        <span class="hljs-keyword">super</span>.writeToParcel(dest, flags);
        dest.writeInt(mForegroundColor);
        dest.writeFloat(mAlpha);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateDrawState</span><span class="hljs-params">(TextPaint ds)</span> </span>{
        ds.setColor(getForegroundColor());
    }

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> alpha from 0 to 255
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAlpha</span><span class="hljs-params">(<span class="hljs-keyword">int</span> alpha)</span> </span>{
        mAlpha = alpha;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setForegroundColor</span><span class="hljs-params">(<span class="hljs-keyword">int</span> foregroundColor)</span> </span>{
        mForegroundColor = foregroundColor;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> <span class="hljs-title">getAlpha</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> mAlpha;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getForegroundColor</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> Color.argb(mAlpha, Color.red(mForegroundColor), Color.green(mForegroundColor), Color.blue(mForegroundColor));
    }
}</pre>
<p>이제 우리는 같은 인스턴스에서 투명도 또는 글자색을 변경할 수 있다. 그러나 그 속성을 설정할 때 그것은 View를 갱신하지 않는다: 직접 SpannableString을 다시 설정해 주어야 한다.</p>
<pre class="hljs java">MutableForegroundColorSpan span = <span class="hljs-keyword">new</span> MutableForegroundColorSpan(<span class="hljs-number">255</span>, Color.BLACK);
spannableString.setSpan(span, <span class="hljs-number">0</span>, text.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
textView.setText(spannableString);
<span class="hljs-comment">//here the text is black and fully opaque</span>
span.setAlpha(<span class="hljs-number">100</span>);
span.setForegroundColor(Color.RED);
<span class="hljs-comment">//here the text hasn't changed.</span>
textView.setText(spannableString);
<span class="hljs-comment">//finally, the text is red and translucent</span></pre>
<p>이제 우리는 글자색을 애니메이션하기를 원한다. 우리는  <a href="http://developer.android.com/reference/android/util/Property.html">android.util.Property</a>를 사용하여 커스텀 해야 한다.</p>
<pre class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Property&lt;MutableForegroundColorSpan, Integer&gt; MUTABLE_FOREGROUND_COLOR_SPAN_FC_PROPERTY =
<span class="hljs-keyword">new</span> Property&lt;MutableForegroundColorSpan, Integer&gt;(Integer.class, <span class="hljs-string">"MUTABLE_FOREGROUND_COLOR_SPAN_FC_PROPERTY"</span>) {

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">set</span><span class="hljs-params">(MutableForegroundColorSpan span, Integer value)</span> </span>{
        span.setForegroundColor(value);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">get</span><span class="hljs-params">(MutableForegroundColorSpan span)</span> </span>{
        <span class="hljs-keyword">return</span> span.getForegroundColor();
    }
};</pre>
<p>마지막으로 우리는 <a href="http://developer.android.com/reference/android/animation/ObjectAnimator.html">ObjectAnimator</a>를 이용하여 custom property를 애니메이션 한다. View를 갱신하는 것을 잊지마라.</p>
<pre class="hljs java">MutableForegroundColorSpan span = <span class="hljs-keyword">new</span> MutableForegroundColorSpan(<span class="hljs-number">255</span>, Color.BLACK);
mSpannableString.setSpan(span, <span class="hljs-number">0</span>, text.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
ObjectAnimator objectAnimator = ObjectAnimator.ofInt(span, MUTABLE_FOREGROUND_COLOR_SPAN_FC_PROPERTY, Color.BLACK, Color.RED);
objectAnimator.setEvaluator(<span class="hljs-keyword">new</span> ArgbEvaluator());
objectAnimator.addUpdateListener(<span class="hljs-keyword">new</span> ValueAnimator.AnimatorUpdateListener() {
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onAnimationUpdate</span><span class="hljs-params">(ValueAnimator animation)</span> </span>{
        <span class="hljs-comment">//refresh</span>
        mText.setText(mSpannableString);
    }
});
objectAnimator.start();</pre>
<h2>ACTIONBAR ‘FIREWORKS’</h2>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-25.gif" alt="FIREWORKS" width="446" height="82" /></p>
<p>‘fireworks’ 애니메이션은 무작위를 글자를 fade 하도록 한다. 먼저 글자를 다수의 Span으로 분리하여(예를 들어, 글자 단위로 하나의 스팬을 생성) 스팬을 적용하고 fade 한다. 앞서 소개한 MutableForegroundColorSpan을 사용하여, 스팬 그룹을 표현하기 위한 특별한 객체를 만들 것이다. 그리고 그룹에 setAlpha 호출할 때마다, 우리는 무작위로 각 범위에 대한 투명도를 설정한다.</p>
<pre class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FireworksSpanGroup</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">float</span> mAlpha;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ArrayList&lt;MutableForegroundColorSpan&gt; mSpans;

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">FireworksSpanGroup</span><span class="hljs-params">(<span class="hljs-keyword">float</span> alpha)</span> </span>{
        mAlpha = alpha;
        mSpans = <span class="hljs-keyword">new</span> ArrayList&lt;MutableForegroundColorSpan&gt;();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addSpan</span><span class="hljs-params">(MutableForegroundColorSpan span)</span> </span>{
        span.setAlpha((<span class="hljs-keyword">int</span>) (mAlpha * <span class="hljs-number">255</span>));
        mSpans.add(span);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>{
        Collections.shuffle(mSpans);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAlpha</span><span class="hljs-params">(<span class="hljs-keyword">float</span> alpha)</span> </span>{
        <span class="hljs-keyword">int</span> size = mSpans.size();
        <span class="hljs-keyword">float</span> total = <span class="hljs-number">1.0f</span> * size * alpha;

        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span> ; index &lt; size; index++) {
            MutableForegroundColorSpan span = mSpans.get(index);
            <span class="hljs-keyword">if</span>(total &gt;= <span class="hljs-number">1.0f</span>) {
                span.setAlpha(<span class="hljs-number">255</span>);
                total -= <span class="hljs-number">1.0f</span>;
            } <span class="hljs-keyword">else</span> {
                span.setAlpha((<span class="hljs-keyword">int</span>) (total * <span class="hljs-number">255</span>));
                total = <span class="hljs-number">0.0f</span>;
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> <span class="hljs-title">getAlpha</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> mAlpha; }
}</pre>
<p>우리는 FireworksSpanGroup의 알파 애니메이션에 사용자 정의 속성을 만든다.</p>
<pre class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Property&lt;FireworksSpanGroup, Float&gt; FIREWORKS_GROUP_PROGRESS_PROPERTY =
<span class="hljs-keyword">new</span> Property&lt;FireworksSpanGroup, Float&gt;(Float.class, <span class="hljs-string">"FIREWORKS_GROUP_PROGRESS_PROPERTY"</span>) {

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">set</span><span class="hljs-params">(FireworksSpanGroup spanGroup, Float value)</span> </span>{
        spanGroup.setProgress(value);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Float <span class="hljs-title">get</span><span class="hljs-params">(FireworksSpanGroup spanGroup)</span> </span>{
        <span class="hljs-keyword">return</span> spanGroup.getProgress();
    }
};</pre>
<p>마지막으로, 우리는 그룹을 만들고 ObjectAnimator으로 애니메이션 한다.</p>
<pre class="hljs java"><span class="hljs-keyword">final</span> FireworksSpanGroup spanGroup = <span class="hljs-keyword">new</span> FireworksSpanGroup();
<span class="hljs-comment">//init the group with multiple spans</span>
<span class="hljs-comment">//spanGroup.addSpan(span);</span>
<span class="hljs-comment">//set spans on the ActionBar spannable title</span>
<span class="hljs-comment">//mActionBarTitleSpannableString.setSpan(span, start, end, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span>
spanGroup.init();
ObjectAnimator objectAnimator = ObjectAnimator.ofFloat(spanGroup, FIREWORKS_GROUP_PROGRESS_PROPERTY, <span class="hljs-number">0.0f</span>, <span class="hljs-number">1.0f</span>);
objectAnimator.addUpdateListener(<span class="hljs-keyword">new</span> ValueAnimator.AnimatorUpdateListener() {
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onAnimationUpdate</span><span class="hljs-params">(ValueAnimator animation)</span> </span>{
        <span class="hljs-comment">//refresh the ActionBar title</span>
        setTitle(mActionBarTitleSpannableString);
    }
});
objectAnimator.start();</pre>
<h2>나만의 스팬으로 그리기(DRAW WITH YOUR OWN SPAN)</h2>
<p>이 섹션에서는 사용자 정의 스팬을 통해 그리는 방법을 설명 할 것이다. 이것은 텍스트 사용자 정의에 대한 흥미로운 관점을 열어줄 것이다.</p>
<p>첫째, 우리는 추상 클래스 <a href="http://developer.android.com/reference/android/text/style/ReplacementSpan.html">ReplacementSpan</a>을 확장하는 커스텀 스팬을 만들어야 한다.</p>
<p>당신이 오직 custom background를 그리기만 원하는 경우, 텍스트 단락 수준 서식인 <a href="http://developer.android.com/reference/android/text/style/LineBackgroundSpan.html">LineBackgroundSpan</a>을 구현할 수 있다.</p>
<p>우리는 2개의 methods를 구현해야 한다:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/text/style/ReplacementSpan.html#getSize%28android.graphics.Paint,%20java.lang.CharSequence,%20int,%20int,%20android.graphics.Paint.FontMetricsInt%29">getSize</a>: 이 method는 당신이 변경한 새로운 크기를 반환한다.</li>
</ul>
<p>text: 스팬에서 관리하는 문자열</p>
<p>start: 문자열의 시작 위치</p>
<p>end: 문자열의 종료 위치</p>
<p>fm: font metrics(null을 넣을 수 있다)</p>
<ul>
<li><a href="http://developer.android.com/reference/android/text/style/ReplacementSpan.html#draw%28android.graphics.Canvas,%20java.lang.CharSequence,%20int,%20int,%20float,%20int,%20int,%20int,%20android.graphics.Paint%29">draw</a>: 당신이 Canvas를 이용해 그릴 수 있는 곳이다.</li>
</ul>
<p>x: 문자열이 draw 될 좌표(x-coordinate)</p>
<p>top: 라인의 top</p>
<p>y: baseline</p>
<p>bottom: 라인의 bottom</p>
<p>텍스트를 둘러싸는 파란 사각형을 그리는 예제를 보자.</p>
<pre class="hljs java"><span class="hljs-annotation">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSize</span><span class="hljs-params">(Paint paint, CharSequence text, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end, Paint.FontMetricsInt fm)</span> </span>{
    <span class="hljs-comment">//return text with relative to the Paint</span>
    mWidth = (<span class="hljs-keyword">int</span>) paint.measureText(text, start, end);
    <span class="hljs-keyword">return</span> mWidth;
}

<span class="hljs-annotation">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">draw</span><span class="hljs-params">(Canvas canvas, CharSequence text, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end, <span class="hljs-keyword">float</span> x, <span class="hljs-keyword">int</span> top, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> bottom, Paint paint)</span> </span>{
    <span class="hljs-comment">//draw the frame with custom Paint</span>
    canvas.drawRect(x, top, x + mWidth, bottom, mPaint);
}</pre>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-26.png" alt="DRAW WITH YOUR OWN SPAN" width="584" height="336" /></p>
<h2>BONUS</h2>
<p>샘플 앱에는 아래와 같은 예시가 포함되어 있다:</p>
<ul>
<li>Progressive blur</li>
</ul>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-27.gif" alt="Progressive blur" width="582" height="341" /></p>
<ul>
<li>Typewriter</li>
</ul>
<p><img src="/res/img/post/2015-11-02-android-spans-a-powerful-concept-28.gif" alt="Typewriter" width="518" height="302" /></p>
<h2>결론</h2>
<p>이 문서에서 작업, 나는 스팬 정말 강력하고 드로어 블 Drawable들처럼, 나는 그들이 충분히 사용하지 않는 생각을 깨달았다. 텍스트 응용 프로그램의 주요 내용, 그것은 사방 그래서 스팬과 더 역동적이고 매력적으로 만들 것을 잊지 마세요있다!</p>
<p>이 문서 작업, 깨달았다 범위는 정말 강력 하 고 Drawables, 같은 그들이 생각 하지 충분히 사용. 텍스트는 응용 프로그램의 주요 내용, 그것은 어디에 나 그래서 더 역동적이 고 매력적인 걸쳐 그것을 확인 하는 것을 잊지 마세요!</p>
<p>이 문서를 작성하면서 스팬은 정말 강력하지만 그들은 Drawables처럼 충분히 사용하지 않는다는 것을 깨달았다. 텍스트는 어플리케이션의 메인 콘텐츠다. 그것은 어디에나 있다. 그러니 텍스트를 스팬을 통해 역동적이고 매력적으로 만들 수 있다는 것을 잊지마라!</p>
</div>
			</article>

	<section class="dShare">
	
			<amp-social-share type="facebook" data-param-app_id="1796234843959223" width="60" height="44"></amp-social-share>
		<amp-social-share type="twitter" width="60" height="44"></amp-social-share>
	<amp-social-share type="gplus" width="60" height="44"></amp-social-share>
	<amp-social-share type="pinterest" width="60" height="44"></amp-social-share>
	<amp-social-share type="linkedin" width="60" height="44"></amp-social-share>
	<amp-social-share type="email" width="60" height="44"></amp-social-share>
</section>

			<div id="disqus_thread"></div>
	<script type="text/javascript">
		var disqus_shortname = 'asamaru7'; // required: replace example with your forum shortname
		// var disqus_developer = 1; // Comment out when the site is live
		var disqus_identifier = "/2015/11/02/android-spans-a-powerful-concept/";

		/* * * DON'T EDIT BELOW THIS LINE * * */
		(function () {
			var dsq = document.createElement('script');
			dsq.type = 'text/javascript';
			dsq.async = true;
			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</section>
</div>
<nav id="cSide">
	<div class="dSideBox">
										
										<dl class="dTags">
					<dt>카테고리</dt>
											<dd>
							<a href="https://blog.asamaru.net/category/android/">
								android<span>(57)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/blog/">
								blog<span>(3)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/css/">
								css<span>(5)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/db/">
								db<span>(6)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/flash/">
								flash<span>(1)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/git/">
								git<span>(7)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/html/">
								html<span>(3)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/ios/">
								ios<span>(23)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/java/">
								java<span>(5)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/jekyll/">
								jekyll<span>(2)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/js/">
								js<span>(14)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/laravel/">
								laravel<span>(2)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/linux/">
								linux<span>(28)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/octopress/">
								octopress<span>(8)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/osx/">
								osx<span>(9)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/php/">
								php<span>(52)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/programming/">
								programming<span>(1)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/swift/">
								swift<span>(8)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/thinking/">
								thinking<span>(5)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/tip/">
								tip<span>(16)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/vagrant/">
								vagrant<span>(7)</span>
							</a>
						</dd>
									</dl>
			
			
						
			
																<dl class="dArchives">
						<dt>글 보관함</dt>
													<dd class="dYear"><a href="https://blog.asamaru.net/2017/">2017 <span>(36)</span></a></dd>
															<dd>
									<dl>
										
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/05/">05 <span>(4)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/04/">04 <span>(6)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/03/">03 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/02/">02 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2017/01/">01 <span>(22)</span></a>
											</dd>
																			</dl>
								</dd>
																				<dd class="dYear"><a href="https://blog.asamaru.net/2016/">2016 <span>(69)</span></a></dd>
															<dd>
									<dl>
										
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/12/">12 <span>(9)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/11/">11 <span>(11)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/10/">10 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/09/">09 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/08/">08 <span>(2)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/07/">07 <span>(5)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/05/">05 <span>(1)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/04/">04 <span>(9)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/03/">03 <span>(13)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/02/">02 <span>(7)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2016/01/">01 <span>(8)</span></a>
											</dd>
																			</dl>
								</dd>
																				<dd class="dYear"><a href="https://blog.asamaru.net/2015/">2015 <span>(118)</span></a></dd>
															<dd>
									<dl>
										
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/12/">12 <span>(16)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/11/">11 <span>(16)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/10/">10 <span>(41)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/09/">09 <span>(37)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2015/08/">08 <span>(8)</span></a>
											</dd>
																			</dl>
								</dd>
																				<dd class="dYear"><a href="https://blog.asamaru.net/2012/">2012 <span>(7)</span></a></dd>
															<dd>
									<dl>
										
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2012/10/">10 <span>(1)</span></a>
											</dd>
																					<dd class="dMonth">
												<a href="https://blog.asamaru.net/2012/09/">09 <span>(6)</span></a>
											</dd>
																			</dl>
								</dd>
																		</dl>
									
				
		
		<form action="https://www.google.com/search" method="get" target="_blank" class="dFormSearch">
			<fieldset>
				<input type="hidden" name="sitesearch" value="https://blog.asamaru.net">
				<legend>검색하기 폼</legend>
				<label class="dIcon">검색하기</label>
				<input type="text" name="q" value="" placeholder="Search"/>
			</fieldset>
		</form>

		
		<ul class="dLinks">
							<li><a href="https://blog.asamaru.net/archives/" class="dInverse">전체글 보기</a></li>
				<li class="dPipe"></li>
						<li><a href="https://blog.asamaru.net/atom.xml" class="dInverse" target="_blank">RSS</a></li>
		</ul>
	</div>
</nav>



















</section>
<footer>
	hosted by <a href="https://github.com/"><em>Github</em></a> / Posted by <a href="mailto:asamaru@asamaru.net"><em>유영재</em></a>
</footer>
<script src="/res/js/min/xdcc3df961f8bed25864b2c3c1a2ca275290789f1.js" type="text/javascript"></script>
<script>
	(function () {
		function addEvent(element, evnt, funct) {
			if (element.attachEvent)
				return element.attachEvent('on' + evnt, funct);
			else
				return element.addEventListener(evnt, funct, false);
		}

		var slideout = new Slideout({
			'panel': document.getElementById('cMainPanel'),
			'menu': document.getElementById('cSide'),
			'padding': 300,
			'tolerance': 70,
			'side': 'right'
		});
		addEvent(
			document.getElementById('cBtnSlide'),
			'click',
			function () {
				slideout.toggle();
			}
		);
	})();
</script>



<script async src="https://cdn.ampproject.org/v0.js"></script>
<script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>

</body>
</html>