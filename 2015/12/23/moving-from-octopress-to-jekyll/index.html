<!doctype html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
			<title>Octopress 2에서 Jekyll로 전환 - 이 세상에 하나는 남기고 가자</title>
		<meta name="author" content="유영재">
	<meta name="keywords" content="android,blog,css,db,flash,git,html,ios,java,jekyll,js,linux,octopress,osx,php,programming,swift,thinking,tip,vagrant">
	<meta name="description" content="최근 이틀동안 현재 운영중인 블로그에서 사용중인 옥토프레스를 걷어내고 순수 Jekyll로 전환하는 작업을 했다. 사실 처음엔 지금 사용중인 옥토프레스를 3버전으로 버전업 하려고 했다. 그래서 Migrating Octopress 2 to Octopress 3를 따라 전환을 시도했다. 이 글에서도 나와 있는 것처럼 옥토프레스 제작자가 Octopress 3.0 Is Coming이라고만 해두고 정식 릴리즈를 하지 않아 기다림에 지쳐 작업을 시작했다(이때까지만 하더라도 일이 간단하리라 생각했다). 아래의 글은 체계적인 설치 안내서 보다는 전">
	<meta name="referrer" content="always">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="shortcut icon" type="image/x-icon" href="https://blog.asamaru.net/favicon.ico"/>
	<link rel="canonical" href="https://blog.asamaru.net/2015/12/23/moving-from-octopress-to-jekyll/"/>
			<link rel="amphtml" href="https://blog.asamaru.net/amp/2015/12/23/moving-from-octopress-to-jekyll/">
	
	
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">

	
	
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="이 세상에 하나는 남기고 가자">
	<meta property="og:title" content="Octopress 2에서 Jekyll로 전환">
	<meta property="og:description" content="최근 이틀동안 현재 운영중인 블로그에서 사용중인 옥토프레스를 걷어내고 순수 Jekyll로 전환하는 작업을 했다. 사실 처음엔 지금 사용중인 옥토프레스를 3버전으로 버전업 하려고 했다. 그래서 Migrating Octopress 2 to Octopress 3를 따라 전환을 시도했다. 이 글에서도 나와 있는 것처럼 옥토프레스 제작자가 Octopress 3.0 Is Coming이라고만 해두고 정식 릴리즈를 하지 않아 기다림에 지쳐 작업을 시작했다(이때까지만 하더라도 일이 간단하리라 생각했다). 아래의 글은 체계적인 설치 안내서 보다는 전">
	<meta property="og:image" content="/res/img/icon/icon.png">
	

	
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@asamaru7">
	<meta name="twitter:title" content="Octopress 2에서 Jekyll로 전환">
	<meta name="twitter:description" content="최근 이틀동안 현재 운영중인 블로그에서 사용중인 옥토프레스를 걷어내고 순수 Jekyll로 전환하는 작업을 했다. 사실 처음엔 지금 사용중인 옥토프레스를 3버전으로 버전업 하려고 했다. 그래서 Migrating Octopress 2 to Octopress 3를 따라 전환을 시도했다. 이 글에서도 나와 있는 것처럼 옥토프레스 제작자가 Octopress 3.0 Is Coming이라고만 해두고 정식 릴리즈를 하지 않아 기다림에 지쳐 작업을 시작했다(이때까지만 하더라도 일이 간단하리라 생각했다). 아래의 글은 체계적인 설치 안내서 보다는 전">
	<meta property="twitter:image" content="/res/img/icon/icon.png">
	

										<link rel="apple-touch-icon" sizes="180x180" href="/res/img/icon/180.png">
												<link rel="apple-touch-icon" sizes="76x76" href="/res/img/icon/76.png">
												<link rel="apple-touch-icon" sizes="120x120" href="/res/img/icon/120.png">
												<link rel="apple-touch-icon" sizes="152x152" href="/res/img/icon/152.png">
						
	<link rel="alternate" type="application/rss+xml" title="이 세상에 하나는 남기고 가자" href="https://blog.asamaru.net/atom.xml"/>

			<link href="/res/css/min/x2793ce992126c02ca3958c6b4ace1ab0c15b86fc.css" type="text/css" rel="stylesheet" />

	 <script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Octopress 2에서 Jekyll로 전환",
    "author": {
        "@type": "Person",
        "name": "유영재"
    },
    "datePublished": "2015-12-23",
    "dateModified": "2015-12-23",
    "articleSection": "octopress",
    "url": "https://blog.asamaru.net/2015/12/23/moving-from-octopress-to-jekyll/",
    "image": {
        "@type": "ImageObject",
        "url": "https://blog.asamaru.net/res/img/icon/icon.696.png",
        "width": 696,
        "height": 696
    },
    "publisher": {
        "@type": "Organization",
        "name": "유영재",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.asamaru.net/res/img/icon/icon.60.png",
            "width": 60,
            "height": 60
        }
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.asamaru.net/2015/12/23/moving-from-octopress-to-jekyll/"
    }
}</script> 
			<script type="text/javascript">
			(function (i, s, o, g, r, a, m) {
				i['GoogleAnalyticsObject'] = r;
				i[r] = i[r] || function () {
						(i[r].q = i[r].q || []).push(arguments)
					}, i[r].l = 1 * new Date();
				a = s.createElement(o),
					m = s.getElementsByTagName(o)[0];
				a.async = 1;
				a.src = g;
				m.parentNode.insertBefore(a, m)
			})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

			ga('create', 'UA-65749108-2', 'auto');
			ga('send', 'pageview');
		</script>
	</head>
<body>
<header>
	<div class="dProfile">
		<a href="https://blog.asamaru.net"><img src="/res/img/icon/icon.png" width="50" height="50" alt="profile"></a>
		<h1><a href="https://blog.asamaru.net">이 세상에 하나는 남기고 가자</a></h1>
					<p>세상에 필요한 소스코드 한줄 남기고 가자</p>
				<button type="button" id="cBtnSlide"></button>
	</div>
</header>
<section class="dMainBody">
<div class="dWrapContent">
	<main id="cMainPanel" class="clearfix">
			
	<article id="cArticle" class="dArticle hentry">
		<div class="dTitle">
			<h2 class="entry-title">Octopress 2에서 Jekyll로 전환</h2>
												<a href="https://blog.asamaru.net/category/octopress/" rel="tag">octopress</a>
									<a href="https://blog.asamaru.net/category/jekyll/" rel="tag">jekyll</a>
								<span></span>
						<time class="published" datetime="2015-12-23 12:41:33">2015.12.23. 12:41</time>
		</div>
		<div class="markdown-body entry-content"><p>최근 이틀동안 현재 운영중인 블로그에서 사용중인 옥토프레스를 걷어내고 순수 <a href="https://jekyllrb.com/">Jekyll</a>로 전환하는 작업을 했다. 사실 처음엔 지금 사용중인 옥토프레스를 3버전으로 버전업 하려고 했다. 그래서 <a href="http://samwize.com/2015/09/30/migrating-octopress-2-to-octopress-3/">Migrating Octopress 2 to Octopress 3</a>를 따라 전환을 시도했다. 이 글에서도 나와 있는 것처럼 옥토프레스 제작자가 <a href="http://octopress.org/2015/01/15/octopress-3.0-is-coming/">Octopress 3.0 Is Coming</a>이라고만 해두고 정식 릴리즈를 하지 않아 기다림에 지쳐 작업을 시작했다(이때까지만 하더라도 일이 간단하리라 생각했다).</p>
<p>아래의 글은 체계적인 설치 안내서 보다는 전환 경험담에 가깝다. 아래의 과정을 따라 설치하면 동일하게 안될 확률이 높으므로 참고만 하길 바란다. 사실 처음엔 잘 정리해 두려고 했는데 워낙에 이리저리 시도를 많이 하면서 정리하는 것을 포기했다.</p>
<p><a href="https://jekyllrb.com/">Jekyll</a> 전환에 앞서 octopress 버전업 시도 과정부터 이야기하려고 한다.</p>
<p><a href="https://github.com/octopress/octopress">Octopress 3 - Github</a>에 가면 최신 옥토프레스를 확인할 수 있다. 현재 시점을 기준으로 3.0.11이 최신이다. 정식 릴리즈를 공식적으로 출시하지 않았지만 개발을 나름 활발히 진행중이다. 나중에 버전업을 진행해 보니 왜 정식 릴리즈를 하지 못하고 있는지 알 것도 같다. <a href="https://jekyllrb.com/">Jekyll</a> 기반으로 여러가지 플러그인을 사용하고 템플릿의 제작도 프로그램 제작에 준할 정도로 커스텀되는 상황이다보니 체계적인 마이그레이션 방법을 제시하기 어려운 것 같다.</p>
<p><a href="http://samwize.com/2015/09/30/migrating-octopress-2-to-octopress-3/">Migrating Octopress 2 to Octopress 3</a>에 나름 잘 설명되어 있기는하나 나의 경우엔 그대로 적용되지 않았다(특별한 플러그인 다수 사용하지도 않았는데). 결국은 여러가지 시도 끝에 남은 거라곤 옥토프레스 3.0.11이 설치되었다는 것 밖에 없다(사실 이건 간단히 설치가 되므로 대부분의 시간을 허비한 것이다).</p>
<p>이러한 이유로 순수 <a href="https://jekyllrb.com/">Jekyll</a>로 전환을 시작하게 되었다. 사실 이 과정도 옥토프레스를 버전업하는 것과 같이 새로운 블로그를 생성하고 주요 설정을 이전하는 것이다.
옥토프레스는 원래 Jekyll을 기반으로 확장된 것이라 전환이 간단할 것이라고 생각했다. 이것 또한 착각이었다. 이 과정에서도 여러가지 실패기가 있지만 다 나열하기도 힘들다. 이후부터는 설치 과정을 간략히 요약하려고 한다.</p>
<hr />
<p>아래는 Jekyll을 설치하기 위한 <strong>Gemfile</strong> 의 내용이다. 거의 필수에 가까운 플러그인만으로 구성했다.</p>
<pre class="hljs ruby">source <span class="hljs-string">'https://rubygems.org'</span>

gem <span class="hljs-string">'jekyll'</span>, <span class="hljs-string">'= 3.0.1'</span>
gem <span class="hljs-string">'jekyll-paginate'</span>
gem <span class="hljs-string">'jekyll-archives'</span>
gem <span class="hljs-string">'jekyll-sitemap'</span>
gem <span class="hljs-string">'jekyll-feed'</span>
gem <span class="hljs-string">'pygments.rb'</span></pre>
<p><strong>Gemfile</strong> 을 사용한 설치는 아래와 같이 할 수 있다. 단, ruby 버전 2.1 이상을 요구할 수 있는데 그때는 rvm을 사용해 설치하면 된다.</p>
<pre class="hljs bash">$ sudo gem install bundler
$ bundle install</pre>
<p>다음은 <a href="https://jekyllrb.com/">Jekyll</a>에서 가장 중요한 <strong>_config.yml</strong> 파일의 내용이다.</p>
<pre class="hljs ruby"><span class="hljs-symbol">gems:</span>
  - jekyll-paginate
  - jekyll-archives
  - jekyll-sitemap
  - jekyll-feed
  - pygments.rb

<span class="hljs-symbol">exclude:</span> [<span class="hljs-string">".idea"</span>, <span class="hljs-string">".git"</span>, <span class="hljs-string">"README.md"</span>, <span class="hljs-string">"Gemfile"</span>, <span class="hljs-string">"Gemfile.lock"</span>]

<span class="hljs-symbol">url:</span> <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/blog.asamaru.net
title: 이 세상에 하나는 남기고 가자
subtitle: 내가 할 수 있는 모든 것을...
author: 유영재
simple_search: https:/</span><span class="hljs-regexp">/www.google.com/search</span>
<span class="hljs-symbol">description:</span> &gt; <span class="hljs-comment"># this means to ignore newlines until "baseurl:"</span>
  세상에 필요한 소스코드 한줄 남기고 가자.

<span class="hljs-symbol">email:</span> asamaru<span class="hljs-variable">@asamaru</span>.net
<span class="hljs-symbol">baseurl:</span> <span class="hljs-string">""</span> <span class="hljs-comment"># the subpath of your site, e.g. /blog/</span>

<span class="hljs-symbol">permalink:</span> /<span class="hljs-symbol">:year/</span><span class="hljs-symbol">:month/</span><span class="hljs-symbol">:day/</span><span class="hljs-symbol">:title/</span>

<span class="hljs-symbol">markdown:</span> <span class="hljs-constant">KramdownPygments</span>
<span class="hljs-symbol">markdown_ext:</span> markdown,mkd,mkdn,md
<span class="hljs-symbol">textile_ext:</span> textile
<span class="hljs-symbol">kramdown:</span>
  <span class="hljs-symbol">input:</span> <span class="hljs-constant">GFM</span>
  <span class="hljs-symbol">auto_ids:</span> <span class="hljs-keyword">true</span>
  <span class="hljs-symbol">footnote_nr:</span> <span class="hljs-number">1</span>
  <span class="hljs-symbol">entity_output:</span> as_char
  <span class="hljs-symbol">toc_levels:</span> <span class="hljs-number">1</span>..<span class="hljs-number">6</span>
  <span class="hljs-symbol">smart_quotes:</span> lsquo,rsquo,ldquo,rdquo

<span class="hljs-symbol">paginate:</span> <span class="hljs-number">1</span>
<span class="hljs-symbol">paginate_path:</span> <span class="hljs-string">"posts/:num"</span>
<span class="hljs-symbol">recent_posts:</span> <span class="hljs-number">5</span>
<span class="hljs-symbol">excerpt_link:</span> <span class="hljs-string">"Read on &amp;rarr;"</span>
<span class="hljs-symbol">excerpt_separator:</span> <span class="hljs-string">"&lt;!--more--&gt;"</span>

<span class="hljs-symbol">titlecase:</span> <span class="hljs-keyword">false</span>

<span class="hljs-comment"># Disqus Comments</span>
<span class="hljs-symbol">disqus_short_name:</span> asamaru7

<span class="hljs-comment"># Google Analytics</span>
<span class="hljs-symbol">google_analytics_tracking_id:</span> <span class="hljs-constant">UA</span>-<span class="hljs-number">65749108</span>-<span class="hljs-number">2</span>

<span class="hljs-symbol">github_username:</span> asamaru7

<span class="hljs-symbol">feed:</span>
  <span class="hljs-symbol">path:</span> atom.xml

<span class="hljs-comment"># archives 생성</span>
jekyll-<span class="hljs-symbol">archives:</span>
  <span class="hljs-symbol">enabled:</span>
    - categories
    - year
    - month
    - day
    - tags
  <span class="hljs-symbol">layouts:</span>
    <span class="hljs-symbol">year:</span> archive-year
    <span class="hljs-symbol">month:</span> archive-month
    <span class="hljs-symbol">day:</span> archive-day
    <span class="hljs-symbol">tag:</span> archive-tag
    <span class="hljs-symbol">category:</span> archive-tag
  <span class="hljs-symbol">permalinks:</span>
    <span class="hljs-symbol">year:</span> <span class="hljs-string">'/:year/'</span>
    <span class="hljs-symbol">month:</span> <span class="hljs-string">'/:year/:month/'</span>
    <span class="hljs-symbol">day:</span> <span class="hljs-string">'/:year/:month/:day/'</span>
    <span class="hljs-symbol">tag:</span> <span class="hljs-string">'/tag/:name/'</span>
    <span class="hljs-symbol">category:</span> <span class="hljs-string">'/category/:name/'</span></pre>
<p>하나씩 설명하자니 너무 많다. 다만 그리 어려운 설정들이 아니므로 보면 이해할 것으로 본다.</p>
<p>마지막으로 한가지. <a href="https://github.com/mvdbos/kramdown-with-pygments">Kramdown with Pygments</a>라는 플러그인을 사용했다. Jekyll에서 kramdown을 사용하면서 Pygments를 함께 사용(코드 하이라이팅)하기 위한 플러그인이다. 그런데 몇가지 문제가 있어 아래와 같이 변형해서 사용하고 있다. 덤으로 옥토프레스에서 코드 블럭에 사용되던 문법도 호환되게 변경했으나 마지막에 문제에 걸렸다. kramdown에서 그 문법을 정상적으로 인식하지 못했다. 코드에 빈 줄바꿈이 포함되면 정상적으로 인식하지 못한다. 따라서 이 플러그인이 동작하기 이전에 발생되는 문제로 여기서는 아직 처리하지 못했다. 시간을 들여 분석해보면 처리 방법이 있을수도 있지만 일단 두기로 했다. 중요한 문제는 아니므로(게다가 내가 ruby를 모른다. 이 작업도 기본 문법 몇가지만 공부해서 처리한 것이라 깊이있는 수정은 어렵다).</p>
<p><strong>kramdown_pygments.rb</strong></p>
<pre class="hljs ruby"><span class="hljs-comment"># We define the an additional option for the kramdown parser to look for</span>
<span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Kramdown</span></span>
  <span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Options</span></span>
      define(<span class="hljs-symbol">:kramdown_default_lang</span>, <span class="hljs-constant">Symbol</span>, <span class="hljs-keyword">nil</span>, &lt;&lt;<span class="hljs-constant">EOF</span>)
<span class="hljs-constant">Sets</span> the default language <span class="hljs-keyword">for</span> highlighting code blocks

<span class="hljs-constant">If</span> no language is set <span class="hljs-keyword">for</span> a code block, the default language is used
instead. <span class="hljs-constant">The</span> value has to be one of the languages supported by pygments
<span class="hljs-keyword">or</span> <span class="hljs-keyword">nil</span> <span class="hljs-keyword">if</span> no default language should be used.

<span class="hljs-constant">Default</span><span class="hljs-symbol">:</span> <span class="hljs-keyword">nil</span>
<span class="hljs-constant">Used</span> <span class="hljs-symbol">by:</span> <span class="hljs-constant">PygmentsHtml</span> converter
<span class="hljs-constant">EOF</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># This class is a plugin for kramdown, to make it use pygments instead of coderay</span>
<span class="hljs-comment"># It has nothing to do with Jekyll, it is simply used by the custom converter below</span>
<span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Kramdown</span></span>
  <span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Converter</span></span>
    <span class="hljs-comment">#AllOptions = /([^\s]+)\s+(.+?)\s+(https?:\/\/\S+|\/\S+)\s*(.+)?\n/i</span>
    <span class="hljs-comment">#LangCaption = /([^\s]+)\s*(.+)?\n/i</span>
    <span class="hljs-constant">AllOptions</span> = <span class="hljs-regexp">/([a-z0-9]+)[[:blank:]]+(.+?)[[:blank:]]+(https?:\/\/\S+|\/\S+)[[:blank:]]*([^\n]+)?\n/i</span>
    <span class="hljs-constant">LangCaption</span> = <span class="hljs-regexp">/([a-z0-9]+)[[:blank:]]*([^\n]+)?\n/i</span>

    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PygmentsHtml</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">Html</span></span></span>

      <span class="hljs-keyword">begin</span>
        <span class="hljs-keyword">require</span> <span class="hljs-string">'pygments'</span>
      <span class="hljs-keyword">rescue</span> <span class="hljs-constant">LoadError</span>
        <span class="hljs-constant">STDERR</span>.puts <span class="hljs-string">'You are missing a library required for syntax highlighting. Please run:'</span>
        <span class="hljs-constant">STDERR</span>.puts <span class="hljs-string">'  $ [sudo] gem install pygments'</span>
        raise <span class="hljs-constant">FatalException</span>.new(<span class="hljs-string">"Missing dependency: Pygments"</span>)
      <span class="hljs-keyword">end</span>

      <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">convert_codeblock</span><span class="hljs-params">(el, indent)</span></span>
        codeProc(el, indent, <span class="hljs-keyword">false</span>)
      <span class="hljs-keyword">end</span>

      <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">convert_codespan</span><span class="hljs-params">(el, indent)</span></span>
        codeProc(el, indent, <span class="hljs-keyword">true</span>)
      <span class="hljs-keyword">end</span>

      <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">codeProc</span><span class="hljs-params">(el, indent, isSapn)</span></span>
        attr = el.attr.dup
        lang = extract_code_language!(attr) || <span class="hljs-variable">@options</span>[<span class="hljs-symbol">:kramdown_default_lang</span>]
        <span class="hljs-comment"># STDERR.puts "lang #{el.value}"</span>

        codeStr = el.value
        <span class="hljs-comment"># octopress code 형식 지원</span>
        caption = <span class="hljs-string">""</span>
        <span class="hljs-keyword">if</span> isSapn
          <span class="hljs-keyword">if</span> codeStr =~ <span class="hljs-constant">AllOptions</span> <span class="hljs-keyword">or</span> codeStr =~ <span class="hljs-constant">LangCaption</span>
            acceptLang = <span class="hljs-constant">Pygments::Lexer</span>.find_by_alias(<span class="hljs-string">"<span class="hljs-subst">#{<span class="hljs-variable">$1</span>}</span>"</span>)
            <span class="hljs-keyword">if</span> acceptLang != <span class="hljs-keyword">nil</span>
              <span class="hljs-comment"># STDERR.puts "lang [#{$1}] [#{$2}]"</span>
              isSapn = <span class="hljs-keyword">false</span>
              lang = <span class="hljs-string">"<span class="hljs-subst">#{<span class="hljs-variable">$1</span>}</span>"</span>

              <span class="hljs-keyword">if</span> codeStr =~ <span class="hljs-constant">AllOptions</span>
                <span class="hljs-comment"># STDERR.puts "lang all"</span>
                <span class="hljs-comment"># fn = "#{$2}".gsub(/\s+/, "")</span>
                caption = <span class="hljs-string">"&lt;figcaption&gt;&lt;span&gt;<span class="hljs-subst">#{<span class="hljs-variable">$2</span>}</span>&lt;/span&gt;&lt;a href='<span class="hljs-subst">#{<span class="hljs-variable">$3</span>}</span>'&gt;<span class="hljs-subst">#{<span class="hljs-variable">$4</span> || <span class="hljs-string">'link'</span>}</span>&lt;/a&gt;&lt;/figcaption&gt;"</span>
              <span class="hljs-keyword">end</span>
              <span class="hljs-keyword">if</span> caption == <span class="hljs-string">""</span> <span class="hljs-keyword">and</span> codeStr =~ <span class="hljs-constant">LangCaption</span>
                <span class="hljs-comment"># STDERR.puts "lang lang"</span>
                caption = <span class="hljs-string">"&lt;figcaption&gt;&lt;span&gt;<span class="hljs-subst">#{<span class="hljs-variable">$2</span>}</span>&lt;/span&gt;&lt;/figcaption&gt;"</span>
              <span class="hljs-keyword">end</span>
              <span class="hljs-keyword">if</span> caption != <span class="hljs-string">""</span>
                codeStr = codeStr.lines.to_a[<span class="hljs-number">1</span>..-<span class="hljs-number">1</span>].join  <span class="hljs-comment"># 첫줄 제거</span>
              <span class="hljs-keyword">end</span>
            <span class="hljs-keyword">end</span>
          <span class="hljs-keyword">end</span>
        <span class="hljs-keyword">end</span>

        code = pygmentize(codeStr, lang)
        code_attr = {}
        <span class="hljs-keyword">if</span> isSapn
          <span class="hljs-keyword">if</span> lang
            code_attr[<span class="hljs-string">'class'</span>] = <span class="hljs-string">"highlight notranslate"</span>
            <span class="hljs-keyword">if</span> code_attr.has_key?(<span class="hljs-string">'class'</span>)
              code_attr[<span class="hljs-string">'class'</span>] += <span class="hljs-string">" language-<span class="hljs-subst">#{lang}</span>"</span>
            <span class="hljs-keyword">else</span>
              code_attr[<span class="hljs-string">'class'</span>] = <span class="hljs-string">"language-<span class="hljs-subst">#{lang}</span>"</span>
            <span class="hljs-keyword">end</span>
          <span class="hljs-keyword">end</span>
        <span class="hljs-keyword">else</span>
          code_attr[<span class="hljs-string">'class'</span>] = <span class="hljs-string">"language-<span class="hljs-subst">#{lang}</span>"</span> <span class="hljs-keyword">if</span> lang
        <span class="hljs-keyword">end</span>
        <span class="hljs-keyword">if</span> code == <span class="hljs-keyword">nil</span>
          code = escape_html(codeStr)
          <span class="hljs-keyword">if</span> code_attr[<span class="hljs-string">'class'</span>] != <span class="hljs-keyword">nil</span>
            code_attr[<span class="hljs-string">'class'</span>] += <span class="hljs-string">" nmcode"</span>
          <span class="hljs-keyword">else</span>
            code_attr[<span class="hljs-string">'class'</span>] = <span class="hljs-string">"nmcode"</span>
          <span class="hljs-keyword">end</span>
        <span class="hljs-keyword">end</span>
        <span class="hljs-keyword">if</span> isSapn
          <span class="hljs-string">"&lt;code<span class="hljs-subst">#{html_attributes(attr)}</span>&gt;<span class="hljs-subst">#{code}</span>&lt;/code&gt;"</span>
        <span class="hljs-keyword">else</span>
          <span class="hljs-string">"<span class="hljs-subst">#{<span class="hljs-string">' '</span>*indent}</span>&lt;figure class='code'&gt;<span class="hljs-subst">#{caption}</span>&lt;div class=\"highlight notranslate\"&gt;&lt;pre<span class="hljs-subst">#{html_attributes(attr)}</span>&gt;&lt;code<span class="hljs-subst">#{html_attributes(code_attr)}</span>&gt;<span class="hljs-subst">#{code}</span>&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/figure&gt;\n"</span>
        <span class="hljs-keyword">end</span>
      <span class="hljs-keyword">end</span>

      <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pygmentize</span><span class="hljs-params">(code, lang)</span></span>
        <span class="hljs-keyword">if</span> lang
          <span class="hljs-constant">Pygments</span>.highlight(code,
            <span class="hljs-symbol">:lexer</span> =&gt; lang,
<span class="hljs-comment">#            :options =&gt; { :startinline =&gt; true, :encoding =&gt; 'utf-8', :nowrap =&gt; true })</span>
            <span class="hljs-symbol">:options</span> =&gt; { <span class="hljs-symbol">:startinline</span> =&gt; <span class="hljs-keyword">true</span>, <span class="hljs-symbol">:encoding</span> =&gt; <span class="hljs-string">'utf-8'</span>, <span class="hljs-symbol">:linenos</span> =&gt; <span class="hljs-string">'table'</span> })
        <span class="hljs-keyword">end</span>
      <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># This class is the actual custom Jekyll converter.</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Jekyll::Converters::Markdown::KramdownPygments</span></span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(config)</span></span>
    <span class="hljs-keyword">require</span> <span class="hljs-string">'kramdown'</span>
    <span class="hljs-variable">@config</span> = config
  <span class="hljs-keyword">rescue</span> <span class="hljs-constant">LoadError</span>
    <span class="hljs-constant">STDERR</span>.puts <span class="hljs-string">'You are missing a library required for Markdown. Please run:'</span>
    <span class="hljs-constant">STDERR</span>.puts <span class="hljs-string">'  $ [sudo] gem install kramdown'</span>
    raise <span class="hljs-constant">FatalException</span>.new(<span class="hljs-string">"Missing dependency: kramdown"</span>)
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">convert</span><span class="hljs-params">(content)</span></span>
    html = <span class="hljs-constant">Kramdown::Document</span>.new(content, {
        <span class="hljs-symbol">:auto_ids</span>             =&gt; <span class="hljs-variable">@config</span>[<span class="hljs-string">'kramdown'</span>][<span class="hljs-string">'auto_ids'</span>],
        <span class="hljs-symbol">:footnote_nr</span>          =&gt; <span class="hljs-variable">@config</span>[<span class="hljs-string">'kramdown'</span>][<span class="hljs-string">'footnote_nr'</span>],
        <span class="hljs-symbol">:entity_output</span>        =&gt; <span class="hljs-variable">@config</span>[<span class="hljs-string">'kramdown'</span>][<span class="hljs-string">'entity_output'</span>],
        <span class="hljs-symbol">:toc_levels</span>           =&gt; <span class="hljs-variable">@config</span>[<span class="hljs-string">'kramdown'</span>][<span class="hljs-string">'toc_levels'</span>],
        <span class="hljs-symbol">:smart_quotes</span>         =&gt; <span class="hljs-variable">@config</span>[<span class="hljs-string">'kramdown'</span>][<span class="hljs-string">'smart_quotes'</span>],
        <span class="hljs-symbol">:kramdown_default_lang</span> =&gt; <span class="hljs-variable">@config</span>[<span class="hljs-string">'kramdown'</span>][<span class="hljs-string">'default_lang'</span>],
        <span class="hljs-symbol">:input</span>                =&gt; <span class="hljs-variable">@config</span>[<span class="hljs-string">'kramdown'</span>][<span class="hljs-string">'input'</span>],
        <span class="hljs-symbol">:hard_wrap</span>            =&gt; <span class="hljs-variable">@config</span>[<span class="hljs-string">'kramdown'</span>][<span class="hljs-string">'hard_wrap'</span>]
    }).to_pygments_html
    <span class="hljs-keyword">return</span> html;
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span></pre>
<hr />
<p>보다 자세한 처리 결과를 확인하고 싶다면 이 블로그의 소스를 참고하기 바란다. <a href="https://github.com/asamaru7/blog">asamaru7/blog - Github</a></p>
</div>
	</article>

	<section class="dShare">
	
			<amp-social-share type="facebook" data-param-app_id="1796234843959223" width="60" height="44"></amp-social-share>
		<amp-social-share type="twitter" width="60" height="44"></amp-social-share>
	<amp-social-share type="gplus" width="60" height="44"></amp-social-share>
	<amp-social-share type="pinterest" width="60" height="44"></amp-social-share>
	<amp-social-share type="linkedin" width="60" height="44"></amp-social-share>
	<amp-social-share type="email" width="60" height="44"></amp-social-share>
</section>

			<div id="disqus_thread"></div>
	<script type="text/javascript">
		var disqus_shortname = 'asamaru7'; // required: replace example with your forum shortname
		// var disqus_developer = 1; // Comment out when the site is live
		var disqus_identifier = "/2015/12/23/moving-from-octopress-to-jekyll/";

		/* * * DON'T EDIT BELOW THIS LINE * * */
		(function () {
			var dsq = document.createElement('script');
			dsq.type = 'text/javascript';
			dsq.async = true;
			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</main>
</div>
<nav id="cSide">
	<div class="dSideBox">
										
										<dl class="dTags">
					<dt>태그</dt>
											<dd>
							<a href="https://blog.asamaru.net/category/android/">
								android<span>(56)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/blog/">
								blog<span>(1)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/css/">
								css<span>(3)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/db/">
								db<span>(6)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/flash/">
								flash<span>(1)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/git/">
								git<span>(7)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/html/">
								html<span>(2)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/ios/">
								ios<span>(21)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/java/">
								java<span>(5)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/jekyll/">
								jekyll<span>(2)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/js/">
								js<span>(11)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/linux/">
								linux<span>(27)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/octopress/">
								octopress<span>(8)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/osx/">
								osx<span>(9)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/php/">
								php<span>(25)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/programming/">
								programming<span>(1)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/swift/">
								swift<span>(6)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/thinking/">
								thinking<span>(4)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/tip/">
								tip<span>(15)</span>
							</a>
						</dd>
											<dd>
							<a href="https://blog.asamaru.net/category/vagrant/">
								vagrant<span>(6)</span>
							</a>
						</dd>
									</dl>
			
			
										<dl class="dArchives">
					<dt>글 보관함</dt>
											<dd class="dYear"><a href="https://blog.asamaru.net/2016/">2016 <span>(67)</span></a></dd>
													<dd>
								<dl>
									
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/12/">12 <span>(7)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/11/">11 <span>(11)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/10/">10 <span>(2)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/09/">09 <span>(2)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/08/">08 <span>(2)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/07/">07 <span>(5)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/05/">05 <span>(1)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/04/">04 <span>(9)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/03/">03 <span>(13)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/02/">02 <span>(7)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2016/01/">01 <span>(8)</span></a>
										</dd>
																	</dl>
							</dd>
																	<dd class="dYear"><a href="https://blog.asamaru.net/2015/">2015 <span>(118)</span></a></dd>
													<dd>
								<dl>
									
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2015/12/">12 <span>(16)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2015/11/">11 <span>(16)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2015/10/">10 <span>(41)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2015/09/">09 <span>(37)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2015/08/">08 <span>(8)</span></a>
										</dd>
																	</dl>
							</dd>
																	<dd class="dYear"><a href="https://blog.asamaru.net/2012/">2012 <span>(7)</span></a></dd>
													<dd>
								<dl>
									
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2012/10/">10 <span>(1)</span></a>
										</dd>
																			<dd class="dMonth">
											<a href="https://blog.asamaru.net/2012/09/">09 <span>(6)</span></a>
										</dd>
																	</dl>
							</dd>
															</dl>
					
				
		
		<form action="https://www.google.com/search" method="get" target="_blank" class="dFormSearch">
			<fieldset>
				<input type="hidden" name="sitesearch" value="https://blog.asamaru.net">
				<legend>검색하기 폼</legend>
				<label class="dIcon">검색하기</label>
				<input type="text" name="q" value="" placeholder="Search"/>
			</fieldset>
		</form>

		
		<ul class="dLinks">
			<li><a href="https://blog.asamaru.net/archives/" class="dInverse">전체글 보기</a></li>
			<li class="dPipe"></li>
			<li><a href="https://blog.asamaru.net/atom.xml" class="dInverse" target="_blank">RSS</a></li>
		</ul>
	</div>
</nav>



















</section>
<footer>
	hosted by <a href="https://github.com/"><em>Github</em></a> / Posted by <a href="mailto:asamaru@asamaru.net"><em>유영재</em></a>
</footer>
<script src="/res/js/min/x25c84402d894075554f1198a50334a11367f0ad8.js" type="text/javascript"></script>
<script>
	(function () {
		function addEvent(element, evnt, funct) {
			if (element.attachEvent)
				return element.attachEvent('on' + evnt, funct);
			else
				return element.addEventListener(evnt, funct, false);
		}

		var slideout = new Slideout({
			'panel': document.getElementById('cMainPanel'),
			'menu': document.getElementById('cSide'),
			'padding': 300,
			'tolerance': 70,
			'side': 'right'
		});
		addEvent(
			document.getElementById('cBtnSlide'),
			'click',
			function () {
				slideout.toggle();
			}
		);
	})();
</script>



<script async src="https://cdn.ampproject.org/v0.js"></script>
<script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>

</body>
</html>